{
  "node_type": "stateful-chat-example",
  "version": "1",
  "name": "Stateful Chat Example",
  "description": "Demonstrates conversation state management patterns including history tracking, counters, feature flags, and session context",
  "author": "dify-patcher",
  "icon": "ðŸ’¬",
  "category": "example",
  "backend": {
    "entry": "node.py",
    "dependencies": []
  },
  "frontend": {
    "entry": "index.ts"
  },
  "inputs": {
    "user_message": {
      "type": "string",
      "title": "User Message",
      "description": "Current user message to process",
      "required": true
    },
    "enable_detailed_mode": {
      "type": "boolean",
      "title": "Detailed Mode",
      "description": "Enable detailed response mode (uses feature flag)",
      "required": false
    },
    "max_history_items": {
      "type": "number",
      "title": "Max History Items",
      "description": "Maximum conversation history items to keep",
      "required": false
    }
  },
  "outputs": {
    "response": {
      "type": "string",
      "description": "Generated response based on conversation state"
    },
    "turn_count": {
      "type": "number",
      "description": "Current conversation turn count"
    },
    "history_length": {
      "type": "number",
      "description": "Number of items in conversation history"
    },
    "conv_var_turn_count": {
      "type": "number",
      "description": "Updated turn count for Variable Assigner"
    },
    "conv_var_chat_history": {
      "type": "array",
      "description": "Updated chat history for Variable Assigner"
    },
    "conv_var_session_context": {
      "type": "object",
      "description": "Updated session context for Variable Assigner"
    },
    "conv_var_feature_flags": {
      "type": "object",
      "description": "Updated feature flags for Variable Assigner"
    }
  }
}
